---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro'; // Ø§Ø¶Ø§ÙÙ‡ Ø´Ø¯ Ø¨Ø±Ø§ÛŒ ÛŒÚ©Ù¾Ø§Ø±Ú†Ú¯ÛŒ
import Footer from '../components/Footer.astro';
---

<Layout title="Ø´Ø§ØªÙˆØ± - Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨ Ø³ÙˆØ¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª">
  <Navbar currentPage="profit" />
  
  <main class="relative min-h-screen pt-24 pb-12 overflow-hidden bg-white dark:bg-gray-950">
    
    <div class="absolute inset-0 z-0">
      <div class="absolute inset-0 bg-[linear-gradient(to_right,#80808008_1px,transparent_1px),linear-gradient(to_bottom,#80808008_1px,transparent_1px)] bg-[size:32px_32px] [mask-image:radial-gradient(ellipse_60%_50%_at_50%_0%,#000_70%,transparent_100%)]"></div>
      <div class="absolute top-0 left-1/2 -translate-x-1/2 w-[1000px] h-[400px] bg-gold-500/10 blur-[120px] rounded-full pointer-events-none"></div>
    </div>

    <div class="container mx-auto px-4 relative z-10 max-w-4xl">
      
      <div class="text-center mb-12 animate-fade-in-up">
        <h1 class="text-4xl md:text-5xl font-black text-gray-900 dark:text-white mb-4 tracking-tighter">
           Ù…Ø§Ø´ÛŒÙ†â€ŒØ­Ø³Ø§Ø¨ <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#df920f] to-[#fcbf34]">Ø³ÙˆØ¯ Ùˆ Ø²ÛŒØ§Ù†</span>
        </h1>
        <p class="text-gray-500 dark:text-gray-400 font-medium">ØªØ­Ù„ÛŒÙ„ Ø¯Ù‚ÛŒÙ‚ Ø¨Ø§Ø²Ø¯Ù‡ÛŒ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø·Ù„Ø§ Ø¨Ù‡ ØµÙˆØ±Øª Ø¢Ù†ÛŒ</p>
      </div>

      <div class="bg-white/70 dark:bg-gray-900/70 backdrop-blur-2xl rounded-[2.5rem] border border-gray-100 dark:border-gray-800 shadow-2xl overflow-hidden animate-fade-in-up delay-100">
        
        <div class="p-8 md:p-10">
          <div id="tradesContainer" class="space-y-6">
            <div class="trade-item group relative bg-gray-50/50 dark:bg-gray-800/40 rounded-3xl p-6 border border-gray-200 dark:border-gray-700 transition-all hover:border-gold-500/30">
              <div class="flex items-center justify-between mb-6">
                <div class="flex items-center gap-3">
                  <span class="trade-number bg-gray-900 dark:bg-white text-white dark:text-gray-900 w-8 h-8 rounded-xl flex items-center justify-center font-bold text-sm">Û±</span>
                  <h3 class="font-bold text-gray-900 dark:text-white">Ø¬Ø²Ø¦ÛŒØ§Øª Ù…Ø¹Ø§Ù…Ù„Ù‡</h3>
                </div>
                <button class="remove-trade text-gray-400 hover:text-red-500 transition-colors p-2" title="Ø­Ø°Ù">
                  <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"/></svg>
                </button>
              </div>
<div class="grid grid-cols-1 md:grid-cols-3 gap-6">
  <div class="space-y-2">
    <label class="text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest mr-1">Ù‚ÛŒÙ…Øª Ø®Ø±ÛŒØ¯ (ØªÙˆÙ…Ø§Ù†)</label>
    <div class="relative">
      <input 
        type="text" 
        inputmode="numeric"
        class="input-format trade-buy w-full px-5 py-4 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-600 focus:ring-4 focus:ring-gold-500/10 focus:border-gold-500 outline-none transition-all font-mono" 
        placeholder="Û±Û¸,Û¹Û°Û°,Û°Û°Û°" 
      />
    </div>
  </div>

  <div class="space-y-2">
    <label class="text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest mr-1">Ù…Ù‚Ø¯Ø§Ø± (Ú¯Ø±Ù…)</label>
    <div class="relative">
      <input 
        type="text" 
        inputmode="decimal"
        class="input-format trade-amount w-full px-5 py-4 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-600 focus:ring-4 focus:ring-gold-500/10 focus:border-gold-500 outline-none transition-all font-mono" 
        placeholder="Û±Û°" 
      />
    </div>
  </div>

  <div class="space-y-2">
    <label class="text-xs font-bold text-gray-500 dark:text-gray-400 uppercase tracking-widest mr-1">Ù‚ÛŒÙ…Øª ÙØ±ÙˆØ´ (ØªÙˆÙ…Ø§Ù†)</label>
    <div class="relative">
      <input 
        type="text" 
        inputmode="numeric"
        class="input-format trade-sell w-full px-5 py-4 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-2xl text-gray-900 dark:text-white placeholder-gray-400 dark:placeholder-gray-600 focus:ring-4 focus:ring-gold-500/10 focus:border-gold-500 outline-none transition-all font-mono" 
        placeholder="Û²Û°,Û°Û°Û°,Û°Û°Û°" 
      />
    </div>
  </div>
</div>


          <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mt-8">
            <button id="addTrade" class="py-4 px-6 rounded-2xl border-2 border-dashed border-gray-200 dark:border-gray-700 text-gray-600 dark:text-gray-400 font-bold hover:border-gold-500 hover:text-gold-500 transition-all flex items-center justify-center gap-2">
              <span class="text-xl">+</span> Ø§ÙØ²ÙˆØ¯Ù† Ù…Ø¹Ø§Ù…Ù„Ù‡
            </button>
            <button id="calculateProfit" class="group relative py-4 px-6 bg-gray-900 dark:bg-white text-white dark:text-gray-900 rounded-2xl font-black overflow-hidden shadow-xl hover:scale-[1.02] transition-all">
              <div class="absolute inset-0 bg-gradient-to-r from-gold-400/20 to-transparent -translate-x-full group-hover:animate-shimmer"></div>
              <span class="relative">Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù†Ù‡Ø§ÛŒÛŒ ğŸ“Š</span>
            </button>
          </div>
        </div>

        <div id="profitResults" class="hidden border-t border-gray-100 dark:border-gray-800 p-8 md:p-10 bg-gray-50/30 dark:bg-black/20">
          <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
            <div id="totalCard" class="p-6 rounded-[2rem] bg-white dark:bg-gray-900 shadow-xl border border-gray-100 dark:border-gray-800 text-center transition-transform">
              <span class="text-xs font-black text-gray-400 uppercase tracking-widest block mb-2">Ø³ÙˆØ¯ / Ø²ÛŒØ§Ù† Ú©Ù„</span>
              <div id="totalProfit" class="text-3xl font-black tracking-tighter"></div>
            </div>
            <div class="p-6 rounded-[2rem] bg-white dark:bg-gray-900 shadow-xl border border-gray-100 dark:border-gray-800 text-center">
              <span class="text-xs font-black text-gray-400 uppercase tracking-widest block mb-2">Ø¨Ø§Ø²Ø¯Ù‡ÛŒ Ø³Ø±Ù…Ø§ÛŒÙ‡</span>
              <div id="roi" class="text-3xl font-black text-blue-600 tracking-tighter"></div>
            </div>
            <div class="p-6 rounded-[2rem] bg-white dark:bg-gray-900 shadow-xl border border-gray-100 dark:border-gray-800 text-center">
              <span class="text-xs font-black text-gray-400 uppercase tracking-widest block mb-2">Ú©Ù„ Ø³Ø±Ù…Ø§ÛŒÙ‡ Ø¯Ø±Ú¯ÛŒØ±</span>
              <div id="totalInvested" class="text-3xl font-black text-purple-600 tracking-tighter"></div>
            </div>
          </div>

          <button id="resetProfit" class="w-full py-4 text-gray-400 font-bold hover:text-gray-900 dark:hover:text-white transition-colors">
            ğŸ”„ ØªÙ†Ø¸ÛŒÙ… Ù…Ø¬Ø¯Ø¯ ÙØ±Ù…
          </button>
        </div>
      </div>


    </div>

  </main>

    <Footer/>

</Layout>

<style>
  @keyframes fadeInUp {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }
  @keyframes shimmer {
    100% { transform: translateX(100%); }
  }
  .animate-fade-in-up {
    animation: fadeInUp 0.8s cubic-bezier(0.2, 0.8, 0.2, 1) forwards;
    opacity: 0;
  }
  .animate-shimmer {
    animation: shimmer 2s infinite;
  }
  .delay-100 { animation-delay: 0.1s; }
  .animate-gradient-text {
    background-size: 200% auto;
    animation: gradientText 5s linear infinite;
  }
  @keyframes gradientText {
    0% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
    100% { background-position: 0% 50%; }
  }
</style>

<script src="../scripts/profit_calculator.js"></script>